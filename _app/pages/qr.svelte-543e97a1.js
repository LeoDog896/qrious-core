var ne=Object.defineProperty,re=Object.defineProperties;var ae=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var F=(l,e,t)=>e in l?ne(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,z=(l,e)=>{for(var t in e||(e={}))ie.call(e,t)&&F(l,t,e[t]);if(U)for(var t of U(e))ue.call(e,t)&&F(l,t,e[t]);return l},O=(l,e)=>re(l,ae(e));import{S as Z,i as $,s as x,L as oe,l as N,g as E,M as I,n as W,d as v,E as se,N as Q,e as y,c as k,a as T,b as f,f as V,t as j,h as P,J as A,O as fe,k as H,m as L,j as de,K as ee,x as ce,y as he,P as R,z as pe,r as me,p as _e,C as ge,Q as le}from"../chunks/index-68896ec3.js";import{d as ve,g as te,a as be,r as ye}from"../chunks/image-a2419ccc.js";const X=(l,e)=>e/l,ke=(l,e,t,n)=>{var s,g;const r=typeof l=="string"?{value:l}:l,i=z(O(z({},ve),{width:t!=null?t:e.canvas.clientWidth-((s=r.x)!=null?s:0)*2,height:n!=null?n:e.canvas.clientHeight-((g=r.y)!=null?g:0)*2}),r),a=te(i),u=X(a.width,i.width),o=X(a.width,i.height),_=Math.round(u),m=Math.round(o);for(let p=0;p<a.width;p++)for(let d=0;d<a.width;d++)a.buffer[d*a.width+p]?(e.fillStyle=i.foregroundColor,e.globalAlpha=i.foregroundAlpha,e.fillRect(_*p+i.x,m*d+i.y,_,m)):(e.fillStyle=i.backgroundColor,e.globalAlpha=i.backgroundAlpha,e.fillRect(_*p+i.x,m*d+i.y,_,m))},we=(l,e)=>{const t=e.getContext("2d");if(t==null)throw Error("2d Context is null!");return ke(l,t)},Ce=l=>{const e=z(O(z({},be),{solidCharacter:"\u2588",solidTopCharacter:"\u2580",solidBottomCharacter:"\u2584",emptyCharacter:" "}),typeof l=="string"?{value:l}:l),t=te(e);let n="";for(let r=0;r<t.width;r+=2){for(let i=0;i<t.width;i++){const a=t.buffer[r*t.width+i],u=t.buffer[(r+1)*t.width+i];a&&u?n+=e.solidCharacter:!a&&u?n+=e.solidBottomCharacter:a&&!u?n+=e.solidTopCharacter:n+=e.emptyCharacter}r!==t.width-1&&(n+=`
`)}return n};function Se(l){let e;function t(i,a){return i[0].name=="Simple Image"?Ie:Ee}let n=t(l),r=n(l);return{c(){r.c(),e=N()},l(i){r.l(i),e=N()},m(i,a){r.m(i,a),E(i,e,a)},p(i,a){n===(n=t(i))&&r?r.p(i,a):(r.d(1),r=n(i),r&&(r.c(),r.m(e.parentNode,e)))},d(i){r.d(i),i&&v(e)}}}function Ae(l){let e,t=l[0].render(l[1],l[0].options).replaceAll(`
`,"<br/>").replaceAll(" ","&nbsp;")+"";return{c(){e=y("h1"),this.h()},l(n){e=k(n,"H1",{class:!0,style:!0});var r=T(e);r.forEach(v),this.h()},h(){f(e,"class","font-mono text-center my-10"),V(e,"line-height",l[0].lineSpacing),V(e,"letter-spacing",l[0].tracking)},m(n,r){E(n,e,r),e.innerHTML=t},p(n,r){r&3&&t!==(t=n[0].render(n[1],n[0].options).replaceAll(`
`,"<br/>").replaceAll(" ","&nbsp;")+"")&&(e.innerHTML=t),r&1&&V(e,"line-height",n[0].lineSpacing),r&1&&V(e,"letter-spacing",n[0].tracking)},d(n){n&&v(e)}}}function Te(l){let e,t=l[0].render(l[1],l[0].options).replaceAll(`
`,"<br/>").replaceAll(" ","&nbsp;")+"";return{c(){e=y("h1"),this.h()},l(n){e=k(n,"H1",{class:!0,style:!0});var r=T(e);r.forEach(v),this.h()},h(){f(e,"class","font-mono text-center my-10"),V(e,"line-height","10px"),V(e,"letter-spacing","0"),V(e,"font-size","12px")},m(n,r){E(n,e,r),e.innerHTML=t},p(n,r){r&3&&t!==(t=n[0].render(n[1],n[0].options).replaceAll(`
`,"<br/>").replaceAll(" ","&nbsp;")+"")&&(e.innerHTML=t)},d(n){n&&v(e)}}}function Ee(l){let e;return{c(){e=y("canvas"),this.h()},l(t){e=k(t,"CANVAS",{class:!0,height:!0,width:!0}),T(e).forEach(v),this.h()},h(){f(e,"class","m-auto"),f(e,"height",l[3]),f(e,"width",l[3])},m(t,n){E(t,e,n),l[7](e)},p(t,n){n&8&&f(e,"height",t[3]),n&8&&f(e,"width",t[3])},d(t){t&&v(e),l[7](null)}}}function Ie(l){let e;return{c(){e=y("canvas"),this.h()},l(t){e=k(t,"CANVAS",{class:!0,height:!0,width:!0}),T(e).forEach(v),this.h()},h(){f(e,"class","m-auto"),f(e,"height",l[3]),f(e,"width",l[3])},m(t,n){E(t,e,n),l[6](e)},p(t,n){n&8&&f(e,"height",t[3]),n&8&&f(e,"width",t[3])},d(t){t&&v(e),l[6](null)}}}function Re(l){let e,t,n;oe(l[5]);function r(u,o){if(u[0].name=="ASCII"&&u[0].type=="text")return Te;if(u[0].type=="text")return Ae;if(u[0].type=="canvas")return Se}let i=r(l),a=i&&i(l);return{c(){a&&a.c(),e=N()},l(u){a&&a.l(u),e=N()},m(u,o){a&&a.m(u,o),E(u,e,o),t||(n=I(window,"resize",l[5]),t=!0)},p(u,[o]){i===(i=r(u))&&a?a.p(u,o):(a&&a.d(1),a=i&&i(u),a&&(a.c(),a.m(e.parentNode,e)))},i:W,o:W,d(u){a&&a.d(u),u&&v(e),t=!1,n()}}}const Ve=100;function Me(l,e,t){let n,r,{value:i}=e,{selectedRenderSystem:a}=e,u;function o(){t(2,u=window.innerWidth)}function _(s){Q[s?"unshift":"push"](()=>{a.currentCanvas=s,t(0,a)})}function m(s){Q[s?"unshift":"push"](()=>{a.currentCanvas=s,t(0,a)})}return l.$$set=s=>{"value"in s&&t(1,i=s.value),"selectedRenderSystem"in s&&t(0,a=s.selectedRenderSystem)},l.$$.update=()=>{var s;l.$$.dirty&4&&t(4,n=Math.round(Ve+u/4)),l.$$.dirty&17&&t(3,r=Math.round(n+(((s=a.options.padding)==null?void 0:s.value)||0)*2)),l.$$.dirty&27&&r&&a.type=="canvas"&&se().then(()=>{a.type=="canvas"&&a.currentCanvas&&a.render(i,a.currentCanvas,a.options,n)}),l.$$.dirty&3&&a.type=="text"&&console.log(a.render(i,a.options).split(`
`).length)},[a,i,u,r,n,o,_,m]}class ze extends Z{constructor(e){super(),$(this,e,Me,Re,x,{value:1,selectedRenderSystem:0})}}const He=l=>l;function q(l,e,t){const n=l.slice();return n[10]=e[t],n[11]=e,n[12]=t,n}function J(l,e,t){const n=l.slice();return n[13]=e[t],n}function K(l){let e,t=l[13].name+"",n,r,i,a;function u(){return l[4](l[13])}function o(..._){return l[5](l[13],..._)}return{c(){e=y("div"),n=j(t),this.h()},l(_){e=k(_,"DIV",{tabindex:!0,class:!0});var m=T(e);n=P(m,t),m.forEach(v),this.h()},h(){f(e,"tabindex","0"),f(e,"class",r="w-full text-center "+(l[0]==l[13]?"bg-gray-200 font-bold":"bg-gray-100")+" hover:bg-gray-300 hover:cursor-pointer transition-colors p-4 text-lg")},m(_,m){E(_,e,m),A(e,n),i||(a=[I(e,"click",u),I(e,"keydown",o)],i=!0)},p(_,m){l=_,m&1&&r!==(r="w-full text-center "+(l[0]==l[13]?"bg-gray-200 font-bold":"bg-gray-100")+" hover:bg-gray-300 hover:cursor-pointer transition-colors p-4 text-lg")&&f(e,"class",r)},d(_){_&&v(e),i=!1,fe(a)}}}function G(l){let e,t=Object.values(l[0].options),n=[];for(let r=0;r<t.length;r+=1)n[r]=Y(q(l,t,r));return{c(){e=y("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=k(r,"DIV",{class:!0});var i=T(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(v),this.h()},h(){f(e,"class","m-4 flex flex-wrap flex-col")},m(r,i){E(r,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(r,i){if(i&1){t=Object.values(r[0].options);let a;for(a=0;a<t.length;a+=1){const u=q(r,t,a);n[a]?n[a].p(u,i):(n[a]=Y(u),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&v(e),ee(n,r)}}}function Le(l){let e,t,n;function r(){l[9].call(e,l[11],l[12])}return{c(){e=y("input"),this.h()},l(i){e=k(i,"INPUT",{type:!0}),this.h()},h(){f(e,"type","checkbox")},m(i,a){E(i,e,a),e.checked=l[10].value,t||(n=I(e,"change",r),t=!0)},p(i,a){l=i,a&1&&(e.checked=l[10].value)},d(i){i&&v(e),t=!1,n()}}}function Ne(l){let e,t,n,r,i,a;function u(){l[8].call(e,l[11],l[12])}return{c(){e=y("input"),this.h()},l(o){e=k(o,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),this.h()},h(){var o,_,m;f(e,"type","number"),f(e,"class","w-full"),f(e,"min",t=(o=l[10].min)!=null?o:-1e10),f(e,"max",n=(_=l[10].max)!=null?_:1e10),f(e,"step",r=(m=l[10].step)!=null?m:1)},m(o,_){E(o,e,_),R(e,l[10].value),i||(a=I(e,"input",u),i=!0)},p(o,_){var m,s,g;l=o,_&1&&t!==(t=(m=l[10].min)!=null?m:-1e10)&&f(e,"min",t),_&1&&n!==(n=(s=l[10].max)!=null?s:1e10)&&f(e,"max",n),_&1&&r!==(r=(g=l[10].step)!=null?g:1)&&f(e,"step",r),_&1&&le(e.value)!==l[10].value&&R(e,l[10].value)},d(o){o&&v(e),i=!1,a()}}}function De(l){let e,t,n;function r(){l[7].call(e,l[11],l[12])}return{c(){e=y("input"),this.h()},l(i){e=k(i,"INPUT",{type:!0}),this.h()},h(){f(e,"type","color")},m(i,a){E(i,e,a),R(e,l[10].value),t||(n=I(e,"input",r),t=!0)},p(i,a){l=i,a&1&&R(e,l[10].value)},d(i){i&&v(e),t=!1,n()}}}function Oe(l){let e,t,n,r,i;function a(){l[6].call(e,l[11],l[12])}return{c(){e=y("input"),this.h()},l(u){e=k(u,"INPUT",{id:!0,class:!0,placeholder:!0}),this.h()},h(){f(e,"id",t=l[10].name),f(e,"class","transition-all border-b w-full"),f(e,"placeholder",n=l[10].name)},m(u,o){E(u,e,o),R(e,l[10].value),r||(i=I(e,"input",a),r=!0)},p(u,o){l=u,o&1&&t!==(t=l[10].name)&&f(e,"id",t),o&1&&n!==(n=l[10].name)&&f(e,"placeholder",n),o&1&&e.value!==l[10].value&&R(e,l[10].value)},d(u){u&&v(e),r=!1,i()}}}function Y(l){let e,t,n=l[10].name+"",r,i,a,u,o;function _(g,p){if(g[10].type=="text")return Oe;if(g[10].type=="color")return De;if(g[10].type=="number")return Ne;if(g[10].type=="boolean")return Le}let m=_(l),s=m&&m(l);return{c(){e=y("div"),t=y("label"),r=j(n),i=j(":"),u=H(),s&&s.c(),o=H(),this.h()},l(g){e=k(g,"DIV",{class:!0});var p=T(e);t=k(p,"LABEL",{for:!0});var d=T(t);r=P(d,n),i=P(d,":"),d.forEach(v),u=L(p),s&&s.l(p),o=L(p),p.forEach(v),this.h()},h(){f(t,"for",a=l[10].name),f(e,"class","border-b mb-12 border-gray-400")},m(g,p){E(g,e,p),A(e,t),A(t,r),A(t,i),A(e,u),s&&s.m(e,null),A(e,o)},p(g,p){p&1&&n!==(n=g[10].name+"")&&de(r,n),p&1&&a!==(a=g[10].name)&&f(t,"for",a),m===(m=_(g))&&s?s.p(g,p):(s&&s.d(1),s=m&&m(g),s&&(s.c(),s.m(e,o)))},d(g){g&&v(e),s&&s.d()}}}function je(l){let e,t,n,r,i,a,u,o,_,m,s,g,p;a=new ze({props:{selectedRenderSystem:l[0],value:l[1]}});let d=l[2],c=[];for(let h=0;h<d.length;h+=1)c[h]=K(J(l,d,h));let b=l[0].options&&G(l);return{c(){e=y("div"),t=y("div"),n=y("div"),r=y("textarea"),i=H(),ce(a.$$.fragment),u=H(),o=y("div");for(let h=0;h<c.length;h+=1)c[h].c();_=H(),m=y("div"),b&&b.c(),this.h()},l(h){e=k(h,"DIV",{class:!0});var C=T(e);t=k(C,"DIV",{class:!0});var S=T(t);n=k(S,"DIV",{class:!0});var w=T(n);r=k(w,"TEXTAREA",{tabindex:!0,placeholder:!0,class:!0}),T(r).forEach(v),i=L(w),he(a.$$.fragment,w),w.forEach(v),u=L(S),o=k(S,"DIV",{class:!0});var M=T(o);for(let D=0;D<c.length;D+=1)c[D].l(M);M.forEach(v),S.forEach(v),_=L(C),m=k(C,"DIV",{class:!0});var B=T(m);b&&b.l(B),B.forEach(v),C.forEach(v),this.h()},h(){f(r,"tabindex","0"),f(r,"placeholder","Type URL here (EX: https://example.com). The current QR code is empty."),f(r,"class","flex-grow w-full text-center mb-8 print:hidden"),f(n,"class","h-full flex-grow p-8"),f(o,"class","flex-shrink flex sm:flex-col flex-row sm:w-32 w-full sm:h-full bg-gray-100 print:hidden"),f(t,"class","flex sm:flex-row flex-col flex-grow w-full"),f(m,"class","flex-row w-1/5 place-content-between hidden sm:block print:hidden"),f(e,"class","flex flex-row w-screen h-screen")},m(h,C){E(h,e,C),A(e,t),A(t,n),A(n,r),R(r,l[1]),A(n,i),pe(a,n,null),A(t,u),A(t,o);for(let S=0;S<c.length;S+=1)c[S].m(o,null);A(e,_),A(e,m),b&&b.m(m,null),s=!0,g||(p=I(r,"input",l[3]),g=!0)},p(h,[C]){C&2&&R(r,h[1]);const S={};if(C&1&&(S.selectedRenderSystem=h[0]),C&2&&(S.value=h[1]),a.$set(S),C&5){d=h[2];let w;for(w=0;w<d.length;w+=1){const M=J(h,d,w);c[w]?c[w].p(M,C):(c[w]=K(M),c[w].c(),c[w].m(o,null))}for(;w<c.length;w+=1)c[w].d(1);c.length=d.length}h[0].options?b?b.p(h,C):(b=G(h),b.c(),b.m(m,null)):b&&(b.d(1),b=null)},i(h){s||(me(a.$$.fragment,h),s=!0)},o(h){_e(a.$$.fragment,h),s=!1},d(h){h&&v(e),ge(a),ee(c,h),b&&b.d(),g=!1,p()}}}function Pe(l){var e;(e=l.getContext("2d"))==null||e.clearRect(0,0,l.width,l.height)}function Be(l,e,t){const n=He([{type:"canvas",name:"Simple Image",render:(p,d,c,b)=>{Pe(d);const h=d.getContext("2d");h.fillStyle=c.backgroundColor.value,h.globalAlpha=c.backgroundTransparency.value,h.fillRect(0,0,d.width,c.padding.value),h.fillRect(0,c.padding.value,c.padding.value,d.height-c.padding.value*2),h.fillRect(d.width-c.padding.value,c.padding.value,c.padding.value,d.height-c.padding.value*2),h.fillRect(0,b+c.padding.value,d.width,c.padding.value),we({value:p,foregroundColor:c.foregroundColor.value,backgroundColor:c.backgroundColor.value,foregroundAlpha:c.foregroundTransparency.value,backgroundAlpha:c.backgroundTransparency.value,x:c.padding.value||0,y:c.padding.value||0,width:b,height:b},d)},options:{foregroundColor:{type:"color",name:"Foreground Color",value:"#000000",defaultValue:"#000000"},backgroundColor:{type:"color",name:"Background Color",value:"#ffffff",defaultValue:"#ffffff"},foregroundTransparency:{type:"number",name:"Foreground Transparency",value:1,defaultValue:1,min:0,max:1,step:.1},backgroundTransparency:{type:"number",name:"Background Transparency",value:1,defaultValue:1,min:0,max:1,step:.1},padding:{type:"number",min:0,name:"Padding",defaultValue:0,value:50}}},{type:"text",name:"Unicode",render:Ce,lineSpacing:"1.1rem",tracking:"-0.05em",options:{}},{type:"text",name:"ASCII",render:(p,{foregroundChar:d,backgroundChar:c,thickness:b,inverse:h,padding:C})=>ye({value:p,foregroundChar:"0".repeat(b.value),backgroundChar:"1".repeat(b.value)}).split(`
`).map(S=>"1".repeat(C.value)+S+"1".repeat(C.value)).map(S=>(S+`
`).repeat(b.value).slice(0,-1)).join(`
`).replaceAll("0",h.value?c.value:d.value).replaceAll("1",h.value?d.value:c.value),lineSpacing:".75rem",tracking:"0",options:{foregroundChar:{type:"text",name:"Foreground Character",value:"%",defaultValue:"%"},backgroundChar:{type:"text",name:"Background Character",value:" ",defaultValue:" "},thickness:{type:"number",name:"Thickness",value:1,defaultValue:1,min:0},padding:{type:"number",name:"Padding",value:0,defaultValue:0,min:0},inverse:{type:"boolean",name:"Inverse",value:!1,defaultValue:!1}}}]);let r=n[0],i="";function a(){i=this.value,t(1,i)}const u=p=>{t(0,r=p)},o=(p,d)=>{d.key=="Enter"&&t(0,r=p)};function _(p,d){p[d].value=this.value,t(0,r)}function m(p,d){p[d].value=this.value,t(0,r)}function s(p,d){p[d].value=le(this.value),t(0,r)}function g(p,d){p[d].value=this.checked,t(0,r)}return[r,i,n,a,u,o,_,m,s,g]}class Qe extends Z{constructor(e){super(),$(this,e,Be,je,x,{})}}export{Qe as default};
