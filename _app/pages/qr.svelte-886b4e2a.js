var ae=Object.defineProperty,ie=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var F=(l,e,t)=>e in l?ae(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,L=(l,e)=>{for(var t in e||(e={}))se.call(e,t)&&F(l,t,e[t]);if(B)for(var t of B(e))ue.call(e,t)&&F(l,t,e[t]);return l},O=(l,e)=>ie(l,oe(e));import{S as x,i as ee,s as le,L as fe,l as H,g as I,M as T,n as Q,d as _,E as ce,N as W,e as y,c as k,a as E,b as u,f as R,t as j,h as P,J as A,O as de,k as N,m as D,j as he,K as te,x as pe,y as me,P as V,z as _e,r as ge,p as ve,C as be,Q as ne}from"../chunks/index-68896ec3.js";import{d as ye,g as re,a as ke,r as we}from"../chunks/image-a2419ccc.js";const X=(l,e)=>{const t=Math.floor(e/l);return Math.max(1,t)},Ce=(l,e,t,n)=>{var v,p;const a=typeof l=="string"?{value:l}:l,i=L(O(L({},ye),{width:t!=null?t:e.canvas.clientWidth-((v=a.x)!=null?v:0)*2,height:n!=null?n:e.canvas.clientHeight-((p=a.y)!=null?p:0)*2}),a),r=re(i),o=X(r.width,i.width),f=X(r.width,i.height);for(let s=0;s<r.width;s++)for(let m=0;m<r.width;m++)r.buffer[m*r.width+s]?(e.fillStyle=i.foregroundColor,e.globalAlpha=i.foregroundAlpha,e.fillRect(o*s+i.x,f*m+i.y,o,f)):(e.fillStyle=i.backgroundColor,e.globalAlpha=i.backgroundAlpha,e.fillRect(o*s+i.x,f*m+i.y,o,f))},q=(l,e)=>{const t=e.getContext("2d");if(t==null)throw Error("2d Context is null!");return Ce(l,t)},Se=l=>{const e=L(O(L({},ke),{solidCharacter:"\u2588",solidTopCharacter:"\u2580",solidBottomCharacter:"\u2584",emptyCharacter:" "}),typeof l=="string"?{value:l}:l),t=re(e);let n="";for(let a=0;a<t.width;a+=2){for(let i=0;i<t.width;i++){const r=t.buffer[a*t.width+i],o=t.buffer[(a+1)*t.width+i];r&&o?n+=e.solidCharacter:!r&&o?n+=e.solidBottomCharacter:r&&!o?n+=e.solidTopCharacter:n+=e.emptyCharacter}a!==t.width-1&&(n+=`
`)}return n};function Ae(l){let e;function t(i,r){return i[0].name=="Simple Image"?Ve:Te}let n=t(l),a=n(l);return{c(){a.c(),e=H()},l(i){a.l(i),e=H()},m(i,r){a.m(i,r),I(i,e,r)},p(i,r){n===(n=t(i))&&a?a.p(i,r):(a.d(1),a=n(i),a&&(a.c(),a.m(e.parentNode,e)))},d(i){a.d(i),i&&_(e)}}}function Ee(l){let e,t=l[0].render(l[1],l[0].options).replaceAll(`
`,"<br/>").replaceAll(" ","&nbsp;")+"";return{c(){e=y("h1"),this.h()},l(n){e=k(n,"H1",{class:!0,style:!0});var a=E(e);a.forEach(_),this.h()},h(){u(e,"class","font-mono text-center my-10"),R(e,"line-height",l[0].lineSpacing),R(e,"letter-spacing",l[0].tracking)},m(n,a){I(n,e,a),e.innerHTML=t},p(n,a){a&3&&t!==(t=n[0].render(n[1],n[0].options).replaceAll(`
`,"<br/>").replaceAll(" ","&nbsp;")+"")&&(e.innerHTML=t),a&1&&R(e,"line-height",n[0].lineSpacing),a&1&&R(e,"letter-spacing",n[0].tracking)},d(n){n&&_(e)}}}function Ie(l){let e,t=l[0].render(l[1],l[0].options).replaceAll(`
`,"<br/>").replaceAll(" ","&nbsp;")+"";return{c(){e=y("h1"),this.h()},l(n){e=k(n,"H1",{class:!0,style:!0});var a=E(e);a.forEach(_),this.h()},h(){u(e,"class","font-mono text-center my-10"),R(e,"line-height","10px"),R(e,"letter-spacing","0"),R(e,"font-size","12px")},m(n,a){I(n,e,a),e.innerHTML=t},p(n,a){a&3&&t!==(t=n[0].render(n[1],n[0].options).replaceAll(`
`,"<br/>").replaceAll(" ","&nbsp;")+"")&&(e.innerHTML=t)},d(n){n&&_(e)}}}function Te(l){let e;return{c(){e=y("canvas"),this.h()},l(t){e=k(t,"CANVAS",{class:!0,height:!0,width:!0}),E(e).forEach(_),this.h()},h(){u(e,"class","m-auto"),u(e,"height",l[3]),u(e,"width",l[3])},m(t,n){I(t,e,n),l[7](e)},p(t,n){n&8&&u(e,"height",t[3]),n&8&&u(e,"width",t[3])},d(t){t&&_(e),l[7](null)}}}function Ve(l){let e;return{c(){e=y("canvas"),this.h()},l(t){e=k(t,"CANVAS",{class:!0,height:!0,width:!0}),E(e).forEach(_),this.h()},h(){u(e,"class","m-auto"),u(e,"height",l[3]),u(e,"width",l[3])},m(t,n){I(t,e,n),l[6](e)},p(t,n){n&8&&u(e,"height",t[3]),n&8&&u(e,"width",t[3])},d(t){t&&_(e),l[6](null)}}}function Re(l){let e,t,n;fe(l[5]);function a(o,f){if(o[0].name=="ASCII"&&o[0].type=="text")return Ie;if(o[0].type=="text")return Ee;if(o[0].type=="canvas")return Ae}let i=a(l),r=i&&i(l);return{c(){r&&r.c(),e=H()},l(o){r&&r.l(o),e=H()},m(o,f){r&&r.m(o,f),I(o,e,f),t||(n=T(window,"resize",l[5]),t=!0)},p(o,[f]){i===(i=a(o))&&r?r.p(o,f):(r&&r.d(1),r=i&&i(o),r&&(r.c(),r.m(e.parentNode,e)))},i:Q,o:Q,d(o){r&&r.d(o),o&&_(e),t=!1,n()}}}const ze=100;function Le(l,e,t){let n,a,{value:i}=e,{selectedRenderSystem:r}=e,o;function f(){t(2,o=window.innerWidth)}function v(s){W[s?"unshift":"push"](()=>{r.currentCanvas=s,t(0,r)})}function p(s){W[s?"unshift":"push"](()=>{r.currentCanvas=s,t(0,r)})}return l.$$set=s=>{"value"in s&&t(1,i=s.value),"selectedRenderSystem"in s&&t(0,r=s.selectedRenderSystem)},l.$$.update=()=>{var s;l.$$.dirty&4&&t(4,n=ze+o/4),l.$$.dirty&17&&t(3,a=n+(((s=r.options.padding)==null?void 0:s.value)||0)*2),l.$$.dirty&27&&a&&r.type=="canvas"&&ce().then(()=>{r.type=="canvas"&&r.currentCanvas&&r.render(i,r.currentCanvas,r.options,n)}),l.$$.dirty&3&&r.type=="text"&&console.log(r.render(i,r.options).split(`
`).length)},[r,i,o,a,n,f,v,p]}class Ne extends x{constructor(e){super(),ee(this,e,Le,Re,le,{value:1,selectedRenderSystem:0})}}const De=l=>l;function J(l,e,t){const n=l.slice();return n[10]=e[t],n[11]=e,n[12]=t,n}function K(l,e,t){const n=l.slice();return n[13]=e[t],n}function G(l){let e,t=l[13].name+"",n,a,i,r;function o(){return l[4](l[13])}function f(...v){return l[5](l[13],...v)}return{c(){e=y("div"),n=j(t),this.h()},l(v){e=k(v,"DIV",{tabindex:!0,class:!0});var p=E(e);n=P(p,t),p.forEach(_),this.h()},h(){u(e,"tabindex","0"),u(e,"class",a="w-full text-center "+(l[0]==l[13]?"bg-gray-200 font-bold":"bg-gray-100")+" hover:bg-gray-300 hover:cursor-pointer transition-colors p-4 text-lg")},m(v,p){I(v,e,p),A(e,n),i||(r=[T(e,"click",o),T(e,"keydown",f)],i=!0)},p(v,p){l=v,p&1&&a!==(a="w-full text-center "+(l[0]==l[13]?"bg-gray-200 font-bold":"bg-gray-100")+" hover:bg-gray-300 hover:cursor-pointer transition-colors p-4 text-lg")&&u(e,"class",a)},d(v){v&&_(e),i=!1,de(r)}}}function Y(l){let e,t=Object.values(l[0].options),n=[];for(let a=0;a<t.length;a+=1)n[a]=Z(J(l,t,a));return{c(){e=y("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=k(a,"DIV",{class:!0});var i=E(e);for(let r=0;r<n.length;r+=1)n[r].l(i);i.forEach(_),this.h()},h(){u(e,"class","m-4 flex flex-wrap flex-col")},m(a,i){I(a,e,i);for(let r=0;r<n.length;r+=1)n[r].m(e,null)},p(a,i){if(i&1){t=Object.values(a[0].options);let r;for(r=0;r<t.length;r+=1){const o=J(a,t,r);n[r]?n[r].p(o,i):(n[r]=Z(o),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(a){a&&_(e),te(n,a)}}}function He(l){let e,t,n;function a(){l[9].call(e,l[11],l[12])}return{c(){e=y("input"),this.h()},l(i){e=k(i,"INPUT",{type:!0}),this.h()},h(){u(e,"type","checkbox")},m(i,r){I(i,e,r),e.checked=l[10].value,t||(n=T(e,"change",a),t=!0)},p(i,r){l=i,r&1&&(e.checked=l[10].value)},d(i){i&&_(e),t=!1,n()}}}function Me(l){let e,t,n,a;function i(){l[8].call(e,l[11],l[12])}return{c(){e=y("input"),this.h()},l(r){e=k(r,"INPUT",{type:!0,class:!0,min:!0}),this.h()},h(){u(e,"type","number"),u(e,"class","w-full"),u(e,"min",t=l[10].min?l[10].min:0)},m(r,o){I(r,e,o),V(e,l[10].value),n||(a=T(e,"input",i),n=!0)},p(r,o){l=r,o&1&&t!==(t=l[10].min?l[10].min:0)&&u(e,"min",t),o&1&&ne(e.value)!==l[10].value&&V(e,l[10].value)},d(r){r&&_(e),n=!1,a()}}}function Oe(l){let e,t,n;function a(){l[7].call(e,l[11],l[12])}return{c(){e=y("input"),this.h()},l(i){e=k(i,"INPUT",{type:!0}),this.h()},h(){u(e,"type","color")},m(i,r){I(i,e,r),V(e,l[10].value),t||(n=T(e,"input",a),t=!0)},p(i,r){l=i,r&1&&V(e,l[10].value)},d(i){i&&_(e),t=!1,n()}}}function je(l){let e,t,n,a,i;function r(){l[6].call(e,l[11],l[12])}return{c(){e=y("input"),this.h()},l(o){e=k(o,"INPUT",{id:!0,class:!0,placeholder:!0}),this.h()},h(){u(e,"id",t=l[10].name),u(e,"class","transition-all border-b w-full"),u(e,"placeholder",n=l[10].name)},m(o,f){I(o,e,f),V(e,l[10].value),a||(i=T(e,"input",r),a=!0)},p(o,f){l=o,f&1&&t!==(t=l[10].name)&&u(e,"id",t),f&1&&n!==(n=l[10].name)&&u(e,"placeholder",n),f&1&&e.value!==l[10].value&&V(e,l[10].value)},d(o){o&&_(e),a=!1,i()}}}function Z(l){let e,t,n=l[10].name+"",a,i,r,o,f;function v(m,d){if(m[10].type=="text")return je;if(m[10].type=="color")return Oe;if(m[10].type=="number")return Me;if(m[10].type=="boolean")return He}let p=v(l),s=p&&p(l);return{c(){e=y("div"),t=y("label"),a=j(n),i=j(":"),o=N(),s&&s.c(),f=N(),this.h()},l(m){e=k(m,"DIV",{class:!0});var d=E(e);t=k(d,"LABEL",{for:!0});var h=E(t);a=P(h,n),i=P(h,":"),h.forEach(_),o=D(d),s&&s.l(d),f=D(d),d.forEach(_),this.h()},h(){u(t,"for",r=l[10].name),u(e,"class","border-b mb-4 border-gray-400")},m(m,d){I(m,e,d),A(e,t),A(t,a),A(t,i),A(e,o),s&&s.m(e,null),A(e,f)},p(m,d){d&1&&n!==(n=m[10].name+"")&&he(a,n),d&1&&r!==(r=m[10].name)&&u(t,"for",r),p===(p=v(m))&&s?s.p(m,d):(s&&s.d(1),s=p&&p(m),s&&(s.c(),s.m(e,f)))},d(m){m&&_(e),s&&s.d()}}}function Pe(l){let e,t,n,a,i,r,o,f,v,p,s,m,d;r=new Ne({props:{selectedRenderSystem:l[0],value:l[1]}});let h=l[2],g=[];for(let c=0;c<h.length;c+=1)g[c]=G(K(l,h,c));let b=l[0].options&&Y(l);return{c(){e=y("div"),t=y("div"),n=y("div"),a=y("textarea"),i=N(),pe(r.$$.fragment),o=N(),f=y("div");for(let c=0;c<g.length;c+=1)g[c].c();v=N(),p=y("div"),b&&b.c(),this.h()},l(c){e=k(c,"DIV",{class:!0});var C=E(e);t=k(C,"DIV",{class:!0});var S=E(t);n=k(S,"DIV",{class:!0});var w=E(n);a=k(w,"TEXTAREA",{tabindex:!0,placeholder:!0,class:!0}),E(a).forEach(_),i=D(w),me(r.$$.fragment,w),w.forEach(_),o=D(S),f=k(S,"DIV",{class:!0});var z=E(f);for(let M=0;M<g.length;M+=1)g[M].l(z);z.forEach(_),S.forEach(_),v=D(C),p=k(C,"DIV",{class:!0});var U=E(p);b&&b.l(U),U.forEach(_),C.forEach(_),this.h()},h(){u(a,"tabindex","0"),u(a,"placeholder","Type URL here (EX: https://example.com). The current QR code is empty."),u(a,"class","flex-grow w-full text-center mb-8 print:hidden"),u(n,"class","h-full flex-grow p-8"),u(f,"class","flex-shrink flex sm:flex-col flex-row sm:w-32 w-full sm:h-full bg-gray-100 print:hidden"),u(t,"class","flex sm:flex-row flex-col flex-grow w-full"),u(p,"class","flex-row w-1/5 place-content-between hidden sm:block print:hidden"),u(e,"class","flex flex-row w-screen h-screen")},m(c,C){I(c,e,C),A(e,t),A(t,n),A(n,a),V(a,l[1]),A(n,i),_e(r,n,null),A(t,o),A(t,f);for(let S=0;S<g.length;S+=1)g[S].m(f,null);A(e,v),A(e,p),b&&b.m(p,null),s=!0,m||(d=T(a,"input",l[3]),m=!0)},p(c,[C]){C&2&&V(a,c[1]);const S={};if(C&1&&(S.selectedRenderSystem=c[0]),C&2&&(S.value=c[1]),r.$set(S),C&5){h=c[2];let w;for(w=0;w<h.length;w+=1){const z=K(c,h,w);g[w]?g[w].p(z,C):(g[w]=G(z),g[w].c(),g[w].m(f,null))}for(;w<g.length;w+=1)g[w].d(1);g.length=h.length}c[0].options?b?b.p(c,C):(b=Y(c),b.c(),b.m(p,null)):b&&(b.d(1),b=null)},i(c){s||(ge(r.$$.fragment,c),s=!0)},o(c){ve(r.$$.fragment,c),s=!1},d(c){c&&_(e),be(r),te(g,c),b&&b.d(),m=!1,d()}}}function $(l){var e;(e=l.getContext("2d"))==null||e.clearRect(0,0,l.width,l.height)}function Ue(l,e,t){const n=De([{type:"canvas",name:"Simple Image",render:(d,h,g,b)=>{var c;$(h),h.getContext("2d").fillStyle=g.backgroundColor.value,(c=h.getContext("2d"))==null||c.fillRect(0,0,h.width,h.height),q({value:d,foregroundColor:g.foregroundColor.value,backgroundColor:g.backgroundColor.value,x:g.padding.value||0,y:g.padding.value||0,width:b,height:b},h)},options:{foregroundColor:{type:"color",name:"Foreground Color",value:"#000000",defaultValue:"#000000"},backgroundColor:{type:"color",name:"Background Color",value:"#ffffff",defaultValue:"#ffffff"},padding:{type:"number",min:0,name:"Padding",defaultValue:0,value:50}}},{type:"canvas",name:"Transparent Image",render:(d,h,g)=>{$(h),q({value:d,foregroundColor:g.foregroundColor.value,backgroundAlpha:0},h)},options:{foregroundColor:{type:"color",name:"Foreground Color",value:"#000000",defaultValue:"#000000"}}},{type:"text",name:"Unicode",render:Se,lineSpacing:"1.1rem",tracking:"-0.05em",options:{}},{type:"text",name:"ASCII",render:(d,{foregroundChar:h,backgroundChar:g,thickness:b,inverse:c,padding:C})=>we({value:d,foregroundChar:"0".repeat(b.value),backgroundChar:"1".repeat(b.value)}).split(`
`).map(S=>"1".repeat(C.value)+S+"1".repeat(C.value)).map(S=>(S+`
`).repeat(b.value).slice(0,-1)).join(`
`).replaceAll("0",c.value?g.value:h.value).replaceAll("1",c.value?h.value:g.value),lineSpacing:".75rem",tracking:"0",options:{foregroundChar:{type:"text",name:"Foreground Character",value:"%",defaultValue:"%"},backgroundChar:{type:"text",name:"Background Character",value:" ",defaultValue:" "},thickness:{type:"number",name:"Thickness",value:1,defaultValue:1},padding:{type:"number",name:"Padding",value:0,defaultValue:0},inverse:{type:"boolean",name:"Inverse",value:!1,defaultValue:!1}}}]);let a=n[0],i="";function r(){i=this.value,t(1,i)}const o=d=>{t(0,a=d)},f=(d,h)=>{h.key=="Enter"&&t(0,a=d)};function v(d,h){d[h].value=this.value,t(0,a)}function p(d,h){d[h].value=this.value,t(0,a)}function s(d,h){d[h].value=ne(this.value),t(0,a)}function m(d,h){d[h].value=this.checked,t(0,a)}return[a,i,n,r,o,f,v,p,s,m]}class We extends x{constructor(e){super(),ee(this,e,Ue,Pe,le,{})}}export{We as default};
