var ae=Object.defineProperty,ie=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var F=(l,e,t)=>e in l?ae(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,L=(l,e)=>{for(var t in e||(e={}))se.call(e,t)&&F(l,t,e[t]);if(B)for(var t of B(e))ue.call(e,t)&&F(l,t,e[t]);return l},O=(l,e)=>ie(l,oe(e));import{S as x,i as ee,s as le,L as fe,l as H,g as E,M as R,n as W,d as p,E as ce,N as Q,e as y,c as k,a as A,b as c,f as V,t as j,h as P,J as S,k as N,m as D,j as de,K as te,x as he,y as pe,O as T,z as me,r as _e,p as ge,C as ve,P as ne}from"../chunks/index-e8cef398.js";import{d as be,g as re,a as ye,r as ke}from"../chunks/image-a2419ccc.js";const X=(l,e)=>{const t=Math.floor(e/l);return Math.max(1,t)},we=(l,e,t,n)=>{var b,g;const a=typeof l=="string"?{value:l}:l,i=L(O(L({},be),{width:t!=null?t:e.canvas.clientWidth-((b=a.x)!=null?b:0)*2,height:n!=null?n:e.canvas.clientHeight-((g=a.y)!=null?g:0)*2}),a),r=re(i),o=X(r.width,i.width),f=X(r.width,i.height);for(let s=0;s<r.width;s++)for(let u=0;u<r.width;u++)r.buffer[u*r.width+s]?(e.fillStyle=i.foregroundColor,e.globalAlpha=i.foregroundAlpha,e.fillRect(o*s+i.x,f*u+i.y,o,f)):(e.fillStyle=i.backgroundColor,e.globalAlpha=i.backgroundAlpha,e.fillRect(o*s+i.x,f*u+i.y,o,f))},q=(l,e)=>{const t=e.getContext("2d");if(t==null)throw Error("2d Context is null!");return we(l,t)},Ce=l=>{const e=L(O(L({},ye),{solidCharacter:"\u2588",solidTopCharacter:"\u2580",solidBottomCharacter:"\u2584",emptyCharacter:" "}),typeof l=="string"?{value:l}:l),t=re(e);let n="";for(let a=0;a<t.width;a+=2){for(let i=0;i<t.width;i++){const r=t.buffer[a*t.width+i],o=t.buffer[(a+1)*t.width+i];r&&o?n+=e.solidCharacter:!r&&o?n+=e.solidBottomCharacter:r&&!o?n+=e.solidTopCharacter:n+=e.emptyCharacter}a!==t.width-1&&(n+=`
`)}return n};function Se(l){let e;function t(i,r){return i[0].name=="Simple Image"?Te:Ie}let n=t(l),a=n(l);return{c(){a.c(),e=H()},l(i){a.l(i),e=H()},m(i,r){a.m(i,r),E(i,e,r)},p(i,r){n===(n=t(i))&&a?a.p(i,r):(a.d(1),a=n(i),a&&(a.c(),a.m(e.parentNode,e)))},d(i){a.d(i),i&&p(e)}}}function Ae(l){let e,t=l[0].render(l[1],l[0].options).replaceAll(`
`,"<br/>").replaceAll(" ","&nbsp;")+"";return{c(){e=y("h1"),this.h()},l(n){e=k(n,"H1",{class:!0,style:!0});var a=A(e);a.forEach(p),this.h()},h(){c(e,"class","font-mono text-center my-10"),V(e,"line-height",l[0].lineSpacing),V(e,"letter-spacing",l[0].tracking)},m(n,a){E(n,e,a),e.innerHTML=t},p(n,a){a&3&&t!==(t=n[0].render(n[1],n[0].options).replaceAll(`
`,"<br/>").replaceAll(" ","&nbsp;")+"")&&(e.innerHTML=t),a&1&&V(e,"line-height",n[0].lineSpacing),a&1&&V(e,"letter-spacing",n[0].tracking)},d(n){n&&p(e)}}}function Ee(l){let e,t=l[0].render(l[1],l[0].options).replaceAll(`
`,"<br/>").replaceAll(" ","&nbsp;")+"";return{c(){e=y("h1"),this.h()},l(n){e=k(n,"H1",{class:!0,style:!0});var a=A(e);a.forEach(p),this.h()},h(){c(e,"class","font-mono text-center my-10"),V(e,"line-height","10px"),V(e,"letter-spacing","0"),V(e,"font-size","12px")},m(n,a){E(n,e,a),e.innerHTML=t},p(n,a){a&3&&t!==(t=n[0].render(n[1],n[0].options).replaceAll(`
`,"<br/>").replaceAll(" ","&nbsp;")+"")&&(e.innerHTML=t)},d(n){n&&p(e)}}}function Ie(l){let e;return{c(){e=y("canvas"),this.h()},l(t){e=k(t,"CANVAS",{class:!0,height:!0,width:!0}),A(e).forEach(p),this.h()},h(){c(e,"class","m-auto"),c(e,"height",l[3]),c(e,"width",l[3])},m(t,n){E(t,e,n),l[7](e)},p(t,n){n&8&&c(e,"height",t[3]),n&8&&c(e,"width",t[3])},d(t){t&&p(e),l[7](null)}}}function Te(l){let e;return{c(){e=y("canvas"),this.h()},l(t){e=k(t,"CANVAS",{class:!0,height:!0,width:!0}),A(e).forEach(p),this.h()},h(){c(e,"class","m-auto"),c(e,"height",l[3]),c(e,"width",l[3])},m(t,n){E(t,e,n),l[6](e)},p(t,n){n&8&&c(e,"height",t[3]),n&8&&c(e,"width",t[3])},d(t){t&&p(e),l[6](null)}}}function Ve(l){let e,t,n;fe(l[5]);function a(o,f){if(o[0].name=="ASCII"&&o[0].type=="text")return Ee;if(o[0].type=="text")return Ae;if(o[0].type=="canvas")return Se}let i=a(l),r=i&&i(l);return{c(){r&&r.c(),e=H()},l(o){r&&r.l(o),e=H()},m(o,f){r&&r.m(o,f),E(o,e,f),t||(n=R(window,"resize",l[5]),t=!0)},p(o,[f]){i===(i=a(o))&&r?r.p(o,f):(r&&r.d(1),r=i&&i(o),r&&(r.c(),r.m(e.parentNode,e)))},i:W,o:W,d(o){r&&r.d(o),o&&p(e),t=!1,n()}}}const Re=100;function ze(l,e,t){let n,a,{value:i}=e,{selectedRenderSystem:r}=e,o;function f(){t(2,o=window.innerWidth)}function b(s){Q[s?"unshift":"push"](()=>{r.currentCanvas=s,t(0,r)})}function g(s){Q[s?"unshift":"push"](()=>{r.currentCanvas=s,t(0,r)})}return l.$$set=s=>{"value"in s&&t(1,i=s.value),"selectedRenderSystem"in s&&t(0,r=s.selectedRenderSystem)},l.$$.update=()=>{var s;l.$$.dirty&4&&t(4,n=Re+o/4),l.$$.dirty&17&&t(3,a=n+(((s=r.options.padding)==null?void 0:s.value)||0)*2),l.$$.dirty&27&&a&&r.type=="canvas"&&ce().then(()=>{r.type=="canvas"&&r.currentCanvas&&r.render(i,r.currentCanvas,r.options,n)}),l.$$.dirty&3&&r.type=="text"&&console.log(r.render(i,r.options).split(`
`).length)},[r,i,o,a,n,f,b,g]}class Le extends x{constructor(e){super(),ee(this,e,ze,Ve,le,{value:1,selectedRenderSystem:0})}}const Ne=l=>l;function J(l,e,t){const n=l.slice();return n[9]=e[t],n[10]=e,n[11]=t,n}function K(l,e,t){const n=l.slice();return n[12]=e[t],n}function G(l){let e,t=l[12].name+"",n,a,i,r;function o(){return l[4](l[12])}return{c(){e=y("div"),n=j(t),this.h()},l(f){e=k(f,"DIV",{tabindex:!0,class:!0});var b=A(e);n=P(b,t),b.forEach(p),this.h()},h(){c(e,"tabindex","0"),c(e,"class",a="w-full "+(l[0]==l[12]?"bg-gray-200":"bg-gray-100")+" hover:bg-gray-300 hover:cursor-pointer transition-colors p-4")},m(f,b){E(f,e,b),S(e,n),i||(r=R(e,"click",o),i=!0)},p(f,b){l=f,b&1&&a!==(a="w-full "+(l[0]==l[12]?"bg-gray-200":"bg-gray-100")+" hover:bg-gray-300 hover:cursor-pointer transition-colors p-4")&&c(e,"class",a)},d(f){f&&p(e),i=!1,r()}}}function Y(l){let e,t=Object.values(l[0].options),n=[];for(let a=0;a<t.length;a+=1)n[a]=Z(J(l,t,a));return{c(){e=y("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=k(a,"DIV",{class:!0});var i=A(e);for(let r=0;r<n.length;r+=1)n[r].l(i);i.forEach(p),this.h()},h(){c(e,"class","m-4 flex flex-wrap flex-col")},m(a,i){E(a,e,i);for(let r=0;r<n.length;r+=1)n[r].m(e,null)},p(a,i){if(i&1){t=Object.values(a[0].options);let r;for(r=0;r<t.length;r+=1){const o=J(a,t,r);n[r]?n[r].p(o,i):(n[r]=Z(o),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(a){a&&p(e),te(n,a)}}}function De(l){let e,t,n;function a(){l[8].call(e,l[10],l[11])}return{c(){e=y("input"),this.h()},l(i){e=k(i,"INPUT",{type:!0}),this.h()},h(){c(e,"type","checkbox")},m(i,r){E(i,e,r),e.checked=l[9].value,t||(n=R(e,"change",a),t=!0)},p(i,r){l=i,r&1&&(e.checked=l[9].value)},d(i){i&&p(e),t=!1,n()}}}function He(l){let e,t,n,a;function i(){l[7].call(e,l[10],l[11])}return{c(){e=y("input"),this.h()},l(r){e=k(r,"INPUT",{type:!0,min:!0}),this.h()},h(){c(e,"type","number"),c(e,"min",t=l[9].min?l[9].min:0)},m(r,o){E(r,e,o),T(e,l[9].value),n||(a=R(e,"input",i),n=!0)},p(r,o){l=r,o&1&&t!==(t=l[9].min?l[9].min:0)&&c(e,"min",t),o&1&&ne(e.value)!==l[9].value&&T(e,l[9].value)},d(r){r&&p(e),n=!1,a()}}}function Me(l){let e,t,n;function a(){l[6].call(e,l[10],l[11])}return{c(){e=y("input"),this.h()},l(i){e=k(i,"INPUT",{type:!0}),this.h()},h(){c(e,"type","color")},m(i,r){E(i,e,r),T(e,l[9].value),t||(n=R(e,"input",a),t=!0)},p(i,r){l=i,r&1&&T(e,l[9].value)},d(i){i&&p(e),t=!1,n()}}}function Oe(l){let e,t,n,a,i;function r(){l[5].call(e,l[10],l[11])}return{c(){e=y("input"),this.h()},l(o){e=k(o,"INPUT",{id:!0,class:!0,placeholder:!0}),this.h()},h(){c(e,"id",t=l[9].name),c(e,"class","transition-all border-b outline-none focus:border-sky-500 focus:border-b-2"),c(e,"placeholder",n=l[9].name)},m(o,f){E(o,e,f),T(e,l[9].value),a||(i=R(e,"input",r),a=!0)},p(o,f){l=o,f&1&&t!==(t=l[9].name)&&c(e,"id",t),f&1&&n!==(n=l[9].name)&&c(e,"placeholder",n),f&1&&e.value!==l[9].value&&T(e,l[9].value)},d(o){o&&p(e),a=!1,i()}}}function Z(l){let e,t,n=l[9].name+"",a,i,r,o,f;function b(u,d){if(u[9].type=="text")return Oe;if(u[9].type=="color")return Me;if(u[9].type=="number")return He;if(u[9].type=="boolean")return De}let g=b(l),s=g&&g(l);return{c(){e=y("div"),t=y("label"),a=j(n),i=j(":"),o=N(),s&&s.c(),f=N(),this.h()},l(u){e=k(u,"DIV",{class:!0});var d=A(e);t=k(d,"LABEL",{for:!0});var v=A(t);a=P(v,n),i=P(v,":"),v.forEach(p),o=D(d),s&&s.l(d),f=D(d),d.forEach(p),this.h()},h(){c(t,"for",r=l[9].name),c(e,"class","border-b mb-4 border-gray-400")},m(u,d){E(u,e,d),S(e,t),S(t,a),S(t,i),S(e,o),s&&s.m(e,null),S(e,f)},p(u,d){d&1&&n!==(n=u[9].name+"")&&de(a,n),d&1&&r!==(r=u[9].name)&&c(t,"for",r),g===(g=b(u))&&s?s.p(u,d):(s&&s.d(1),s=g&&g(u),s&&(s.c(),s.m(e,f)))},d(u){u&&p(e),s&&s.d()}}}function je(l){let e,t,n,a,i,r,o,f,b,g,s,u,d;r=new Le({props:{selectedRenderSystem:l[0],value:l[1]}});let v=l[2],m=[];for(let h=0;h<v.length;h+=1)m[h]=G(K(l,v,h));let _=l[0].options&&Y(l);return{c(){e=y("div"),t=y("div"),n=y("div"),a=y("textarea"),i=N(),he(r.$$.fragment),o=N(),f=y("div");for(let h=0;h<m.length;h+=1)m[h].c();b=N(),g=y("div"),_&&_.c(),this.h()},l(h){e=k(h,"DIV",{class:!0});var w=A(e);t=k(w,"DIV",{class:!0});var I=A(t);n=k(I,"DIV",{class:!0});var C=A(n);a=k(C,"TEXTAREA",{tabindex:!0,placeholder:!0,class:!0}),A(a).forEach(p),i=D(C),pe(r.$$.fragment,C),C.forEach(p),o=D(I),f=k(I,"DIV",{class:!0});var z=A(f);for(let M=0;M<m.length;M+=1)m[M].l(z);z.forEach(p),I.forEach(p),b=D(w),g=k(w,"DIV",{class:!0});var U=A(g);_&&_.l(U),U.forEach(p),w.forEach(p),this.h()},h(){c(a,"tabindex","0"),c(a,"placeholder","Type URL here (EX: https://example.com). The current QR code is empty."),c(a,"class","flex-grow w-full text-center mb-8 print:hidden"),c(n,"class","h-full flex-grow p-8"),c(f,"class","flex-shrink flex sm:flex-col flex-row sm:w-32 w-full sm:h-full bg-gray-100 print:hidden"),c(t,"class","flex sm:flex-row flex-col flex-grow w-full"),c(g,"class","flex-row w-1/5 place-content-between hidden sm:block print:hidden"),c(e,"class","flex flex-row w-screen h-screen")},m(h,w){E(h,e,w),S(e,t),S(t,n),S(n,a),T(a,l[1]),S(n,i),me(r,n,null),S(t,o),S(t,f);for(let I=0;I<m.length;I+=1)m[I].m(f,null);S(e,b),S(e,g),_&&_.m(g,null),s=!0,u||(d=R(a,"input",l[3]),u=!0)},p(h,[w]){w&2&&T(a,h[1]);const I={};if(w&1&&(I.selectedRenderSystem=h[0]),w&2&&(I.value=h[1]),r.$set(I),w&5){v=h[2];let C;for(C=0;C<v.length;C+=1){const z=K(h,v,C);m[C]?m[C].p(z,w):(m[C]=G(z),m[C].c(),m[C].m(f,null))}for(;C<m.length;C+=1)m[C].d(1);m.length=v.length}h[0].options?_?_.p(h,w):(_=Y(h),_.c(),_.m(g,null)):_&&(_.d(1),_=null)},i(h){s||(_e(r.$$.fragment,h),s=!0)},o(h){ge(r.$$.fragment,h),s=!1},d(h){h&&p(e),ve(r),te(m,h),_&&_.d(),u=!1,d()}}}function $(l){var e;(e=l.getContext("2d"))==null||e.clearRect(0,0,l.width,l.height)}function Pe(l,e,t){const n=Ne([{type:"canvas",name:"Simple Image",render:(u,d,v,m)=>{var _;$(d),d.getContext("2d").fillStyle=v.backgroundColor.value,(_=d.getContext("2d"))==null||_.fillRect(0,0,d.width,d.height),q({value:u,foregroundColor:v.foregroundColor.value,backgroundColor:v.backgroundColor.value,x:v.padding.value||0,y:v.padding.value||0,width:m,height:m},d)},options:{foregroundColor:{type:"color",name:"Foreground Color",value:"#000000",defaultValue:"#000000"},backgroundColor:{type:"color",name:"Background Color",value:"#ffffff",defaultValue:"#ffffff"},padding:{type:"number",min:0,name:"Padding",defaultValue:0,value:50}}},{type:"canvas",name:"Transparent Image",render:(u,d,v)=>{$(d),q({value:u,foregroundColor:v.foregroundColor.value,backgroundAlpha:0},d)},options:{foregroundColor:{type:"color",name:"Foreground Color",value:"#000000",defaultValue:"#000000"}}},{type:"text",name:"Unicode",render:Ce,lineSpacing:"1.1rem",tracking:"-0.05em",options:{}},{type:"text",name:"ASCII",render:(u,{foregroundChar:d,backgroundChar:v,thickness:m,inverse:_,padding:h})=>ke({value:u,foregroundChar:"0".repeat(m.value),backgroundChar:"1".repeat(m.value)}).split(`
`).map(w=>"1".repeat(h.value)+w+"1".repeat(h.value)).map(w=>(w+`
`).repeat(m.value).slice(0,-1)).join(`
`).replaceAll("0",_.value?v.value:d.value).replaceAll("1",_.value?d.value:v.value),lineSpacing:".75rem",tracking:"0",options:{foregroundChar:{type:"text",name:"Foreground Character",value:"%",defaultValue:"%"},backgroundChar:{type:"text",name:"Background Character",value:" ",defaultValue:" "},thickness:{type:"number",name:"Thickness",value:1,defaultValue:1},padding:{type:"number",name:"Padding",value:0,defaultValue:0},inverse:{type:"boolean",name:"Inverse",value:!1,defaultValue:!1}}}]);let a=n[0],i="";function r(){i=this.value,t(1,i)}const o=u=>{t(0,a=u)};function f(u,d){u[d].value=this.value,t(0,a)}function b(u,d){u[d].value=this.value,t(0,a)}function g(u,d){u[d].value=ne(this.value),t(0,a)}function s(u,d){u[d].value=this.checked,t(0,a)}return[a,i,n,r,o,f,b,g,s]}class We extends x{constructor(e){super(),ee(this,e,Pe,je,le,{})}}export{We as default};
