var ae=Object.defineProperty,ie=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var F=(l,e,t)=>e in l?ae(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,N=(l,e)=>{for(var t in e||(e={}))se.call(e,t)&&F(l,t,e[t]);if(B)for(var t of B(e))ue.call(e,t)&&F(l,t,e[t]);return l},j=(l,e)=>ie(l,oe(e));import{S as x,i as ee,s as le,l as M,g as E,n as Q,d as p,E as fe,L as W,e as y,c as k,a as A,b as f,f as V,t as z,h as P,J as S,M as R,k as D,m as H,j as ce,K as te,x as de,y as he,N as T,z as pe,r as me,p as _e,C as ge,O as ne}from"../chunks/index-3ad129c8.js";import{d as ve,g as re,a as be,r as ye}from"../chunks/image-a2419ccc.js";const X=(l,e)=>{const t=Math.floor(e/l);return Math.max(1,t)},ke=(l,e,t,n)=>{var b,g;const r=typeof l=="string"?{value:l}:l,a=N(j(N({},ve),{width:t!=null?t:e.canvas.clientWidth-((b=r.x)!=null?b:0)*2,height:n!=null?n:e.canvas.clientHeight-((g=r.y)!=null?g:0)*2}),r),i=re(a),u=X(i.width,a.width),o=X(i.width,a.height);for(let h=0;h<i.width;h++)for(let s=0;s<i.width;s++)i.buffer[s*i.width+h]?(e.fillStyle=a.foregroundColor,e.globalAlpha=a.foregroundAlpha,e.fillRect(u*h+a.x,o*s+a.y,u,o)):(e.fillStyle=a.backgroundColor,e.globalAlpha=a.backgroundAlpha,e.fillRect(u*h+a.x,o*s+a.y,u,o))},q=(l,e)=>{const t=e.getContext("2d");if(t==null)throw Error("2d Context is null!");return ke(l,t)},Ce=l=>{const e=N(j(N({},be),{solidCharacter:"\u2588",solidTopCharacter:"\u2580",solidBottomCharacter:"\u2584",emptyCharacter:" "}),typeof l=="string"?{value:l}:l),t=re(e);let n="";for(let r=0;r<t.width;r+=2){for(let a=0;a<t.width;a++){const i=t.buffer[r*t.width+a],u=t.buffer[(r+1)*t.width+a];i&&u?n+=e.solidCharacter:!i&&u?n+=e.solidBottomCharacter:i&&!u?n+=e.solidTopCharacter:n+=e.emptyCharacter}r!==t.width-1&&(n+=`
`)}return n};function we(l){let e;function t(a,i){return a[0].name=="Simple Image"?Ie:Ee}let n=t(l),r=n(l);return{c(){r.c(),e=M()},l(a){r.l(a),e=M()},m(a,i){r.m(a,i),E(a,e,i)},p(a,i){n===(n=t(a))&&r?r.p(a,i):(r.d(1),r=n(a),r&&(r.c(),r.m(e.parentNode,e)))},d(a){r.d(a),a&&p(e)}}}function Se(l){let e,t=l[0].render(l[1],l[0].options).replaceAll(`
`,"<br/>").replaceAll(" ","&nbsp;")+"";return{c(){e=y("h1"),this.h()},l(n){e=k(n,"H1",{class:!0,style:!0});var r=A(e);r.forEach(p),this.h()},h(){f(e,"class","font-mono text-center my-10"),V(e,"line-height",l[0].lineSpacing),V(e,"letter-spacing",l[0].tracking)},m(n,r){E(n,e,r),e.innerHTML=t},p(n,r){r&3&&t!==(t=n[0].render(n[1],n[0].options).replaceAll(`
`,"<br/>").replaceAll(" ","&nbsp;")+"")&&(e.innerHTML=t),r&1&&V(e,"line-height",n[0].lineSpacing),r&1&&V(e,"letter-spacing",n[0].tracking)},d(n){n&&p(e)}}}function Ae(l){let e,t=l[0].render(l[1],l[0].options).replaceAll(`
`,"<br/>").replaceAll(" ","&nbsp;")+"";return{c(){e=y("h1"),this.h()},l(n){e=k(n,"H1",{class:!0,style:!0});var r=A(e);r.forEach(p),this.h()},h(){f(e,"class","font-mono text-center my-10"),V(e,"line-height","10px"),V(e,"letter-spacing","0"),V(e,"font-size","12px")},m(n,r){E(n,e,r),e.innerHTML=t},p(n,r){r&3&&t!==(t=n[0].render(n[1],n[0].options).replaceAll(`
`,"<br/>").replaceAll(" ","&nbsp;")+"")&&(e.innerHTML=t)},d(n){n&&p(e)}}}function Ee(l){let e;return{c(){e=y("canvas"),this.h()},l(t){e=k(t,"CANVAS",{class:!0,height:!0,width:!0}),A(e).forEach(p),this.h()},h(){f(e,"class","m-auto"),f(e,"height",l[2]),f(e,"width",l[2])},m(t,n){E(t,e,n),l[4](e)},p(t,n){n&4&&f(e,"height",t[2]),n&4&&f(e,"width",t[2])},d(t){t&&p(e),l[4](null)}}}function Ie(l){let e;return{c(){e=y("canvas"),this.h()},l(t){e=k(t,"CANVAS",{class:!0,height:!0,width:!0}),A(e).forEach(p),this.h()},h(){f(e,"class","m-auto"),f(e,"height",l[2]),f(e,"width",l[2])},m(t,n){E(t,e,n),l[3](e)},p(t,n){n&4&&f(e,"height",t[2]),n&4&&f(e,"width",t[2])},d(t){t&&p(e),l[3](null)}}}function Te(l){let e;function t(a,i){if(a[0].name=="ASCII"&&a[0].type=="text")return Ae;if(a[0].type=="text")return Se;if(a[0].type=="canvas")return we}let n=t(l),r=n&&n(l);return{c(){r&&r.c(),e=M()},l(a){r&&r.l(a),e=M()},m(a,i){r&&r.m(a,i),E(a,e,i)},p(a,[i]){n===(n=t(a))&&r?r.p(a,i):(r&&r.d(1),r=n&&n(a),r&&(r.c(),r.m(e.parentNode,e)))},i:Q,o:Q,d(a){r&&r.d(a),a&&p(e)}}}function Ve(l,e,t){let n,{value:r}=e,{selectedRenderSystem:a}=e;function i(o){W[o?"unshift":"push"](()=>{a.currentCanvas=o,t(0,a)})}function u(o){W[o?"unshift":"push"](()=>{a.currentCanvas=o,t(0,a)})}return l.$$set=o=>{"value"in o&&t(1,r=o.value),"selectedRenderSystem"in o&&t(0,a=o.selectedRenderSystem)},l.$$.update=()=>{var o;l.$$.dirty&1&&t(2,n=300+(((o=a.options.padding)==null?void 0:o.value)||0)*2),l.$$.dirty&7&&n&&a.type=="canvas"&&fe().then(()=>{a.type=="canvas"&&a.currentCanvas&&a.render(r,a.currentCanvas,a.options)}),l.$$.dirty&3&&a.type=="text"&&console.log(a.render(r,a.options).split(`
`).length)},[a,r,n,i,u]}class Re extends x{constructor(e){super(),ee(this,e,Ve,Te,le,{value:1,selectedRenderSystem:0})}}const Le=l=>l;function J(l,e,t){const n=l.slice();return n[9]=e[t],n[10]=e,n[11]=t,n}function K(l,e,t){const n=l.slice();return n[12]=e[t],n}function G(l){let e,t=l[12].name+"",n,r,a,i;function u(){return l[4](l[12])}return{c(){e=y("div"),n=z(t),this.h()},l(o){e=k(o,"DIV",{tabindex:!0,class:!0});var b=A(e);n=P(b,t),b.forEach(p),this.h()},h(){f(e,"tabindex","0"),f(e,"class",r="w-full "+(l[0]==l[12]?"bg-gray-200":"bg-gray-100")+" hover:bg-gray-300 hover:cursor-pointer transition-colors p-4")},m(o,b){E(o,e,b),S(e,n),a||(i=R(e,"click",u),a=!0)},p(o,b){l=o,b&1&&r!==(r="w-full "+(l[0]==l[12]?"bg-gray-200":"bg-gray-100")+" hover:bg-gray-300 hover:cursor-pointer transition-colors p-4")&&f(e,"class",r)},d(o){o&&p(e),a=!1,i()}}}function Y(l){let e,t=Object.values(l[0].options),n=[];for(let r=0;r<t.length;r+=1)n[r]=Z(J(l,t,r));return{c(){e=y("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=k(r,"DIV",{class:!0});var a=A(e);for(let i=0;i<n.length;i+=1)n[i].l(a);a.forEach(p),this.h()},h(){f(e,"class","m-4 flex flex-wrap flex-col")},m(r,a){E(r,e,a);for(let i=0;i<n.length;i+=1)n[i].m(e,null)},p(r,a){if(a&1){t=Object.values(r[0].options);let i;for(i=0;i<t.length;i+=1){const u=J(r,t,i);n[i]?n[i].p(u,a):(n[i]=Z(u),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(r){r&&p(e),te(n,r)}}}function Ne(l){let e,t,n;function r(){l[8].call(e,l[10],l[11])}return{c(){e=y("input"),this.h()},l(a){e=k(a,"INPUT",{type:!0}),this.h()},h(){f(e,"type","checkbox")},m(a,i){E(a,e,i),e.checked=l[9].value,t||(n=R(e,"change",r),t=!0)},p(a,i){l=a,i&1&&(e.checked=l[9].value)},d(a){a&&p(e),t=!1,n()}}}function De(l){let e,t,n,r;function a(){l[7].call(e,l[10],l[11])}return{c(){e=y("input"),this.h()},l(i){e=k(i,"INPUT",{type:!0,min:!0}),this.h()},h(){f(e,"type","number"),f(e,"min",t=l[9].min?l[9].min:0)},m(i,u){E(i,e,u),T(e,l[9].value),n||(r=R(e,"input",a),n=!0)},p(i,u){l=i,u&1&&t!==(t=l[9].min?l[9].min:0)&&f(e,"min",t),u&1&&ne(e.value)!==l[9].value&&T(e,l[9].value)},d(i){i&&p(e),n=!1,r()}}}function He(l){let e,t,n;function r(){l[6].call(e,l[10],l[11])}return{c(){e=y("input"),this.h()},l(a){e=k(a,"INPUT",{type:!0}),this.h()},h(){f(e,"type","color")},m(a,i){E(a,e,i),T(e,l[9].value),t||(n=R(e,"input",r),t=!0)},p(a,i){l=a,i&1&&T(e,l[9].value)},d(a){a&&p(e),t=!1,n()}}}function Me(l){let e,t,n,r,a;function i(){l[5].call(e,l[10],l[11])}return{c(){e=y("input"),this.h()},l(u){e=k(u,"INPUT",{id:!0,class:!0,placeholder:!0}),this.h()},h(){f(e,"id",t=l[9].name),f(e,"class","transition-all border-b outline-none focus:border-sky-500 focus:border-b-2"),f(e,"placeholder",n=l[9].name)},m(u,o){E(u,e,o),T(e,l[9].value),r||(a=R(e,"input",i),r=!0)},p(u,o){l=u,o&1&&t!==(t=l[9].name)&&f(e,"id",t),o&1&&n!==(n=l[9].name)&&f(e,"placeholder",n),o&1&&e.value!==l[9].value&&T(e,l[9].value)},d(u){u&&p(e),r=!1,a()}}}function Z(l){let e,t,n=l[9].name+"",r,a,i,u,o;function b(s,c){if(s[9].type=="text")return Me;if(s[9].type=="color")return He;if(s[9].type=="number")return De;if(s[9].type=="boolean")return Ne}let g=b(l),h=g&&g(l);return{c(){e=y("div"),t=y("label"),r=z(n),a=z(":"),u=D(),h&&h.c(),o=D(),this.h()},l(s){e=k(s,"DIV",{class:!0});var c=A(e);t=k(c,"LABEL",{for:!0});var _=A(t);r=P(_,n),a=P(_,":"),_.forEach(p),u=H(c),h&&h.l(c),o=H(c),c.forEach(p),this.h()},h(){f(t,"for",i=l[9].name),f(e,"class","border-b mb-4 border-gray-400")},m(s,c){E(s,e,c),S(e,t),S(t,r),S(t,a),S(e,u),h&&h.m(e,null),S(e,o)},p(s,c){c&1&&n!==(n=s[9].name+"")&&ce(r,n),c&1&&i!==(i=s[9].name)&&f(t,"for",i),g===(g=b(s))&&h?h.p(s,c):(h&&h.d(1),h=g&&g(s),h&&(h.c(),h.m(e,o)))},d(s){s&&p(e),h&&h.d()}}}function Oe(l){let e,t,n,r,a,i,u,o,b,g,h,s,c;i=new Re({props:{selectedRenderSystem:l[0],value:l[1]}});let _=l[2],m=[];for(let d=0;d<_.length;d+=1)m[d]=G(K(l,_,d));let v=l[0].options&&Y(l);return{c(){e=y("div"),t=y("div"),n=y("div"),r=y("textarea"),a=D(),de(i.$$.fragment),u=D(),o=y("div");for(let d=0;d<m.length;d+=1)m[d].c();b=D(),g=y("div"),v&&v.c(),this.h()},l(d){e=k(d,"DIV",{class:!0});var C=A(e);t=k(C,"DIV",{class:!0});var I=A(t);n=k(I,"DIV",{class:!0});var w=A(n);r=k(w,"TEXTAREA",{tabindex:!0,placeholder:!0,class:!0}),A(r).forEach(p),a=H(w),he(i.$$.fragment,w),w.forEach(p),u=H(I),o=k(I,"DIV",{class:!0});var L=A(o);for(let O=0;O<m.length;O+=1)m[O].l(L);L.forEach(p),I.forEach(p),b=H(C),g=k(C,"DIV",{class:!0});var U=A(g);v&&v.l(U),U.forEach(p),C.forEach(p),this.h()},h(){f(r,"tabindex","0"),f(r,"placeholder","Type URL here (EX: https://example.com). The current QR code is empty."),f(r,"class","flex-grow w-full text-center mb-8 print:hidden"),f(n,"class","h-full flex-grow p-8"),f(o,"class","flex-shrink flex flex-col w-32 h-full bg-gray-100 print:hidden"),f(t,"class","flex flex-row flex-grow w-full"),f(g,"class","flex-row w-1/5 place-content-between hidden sm:block print:hidden"),f(e,"class","flex flex-row w-screen h-screen")},m(d,C){E(d,e,C),S(e,t),S(t,n),S(n,r),T(r,l[1]),S(n,a),pe(i,n,null),S(t,u),S(t,o);for(let I=0;I<m.length;I+=1)m[I].m(o,null);S(e,b),S(e,g),v&&v.m(g,null),h=!0,s||(c=R(r,"input",l[3]),s=!0)},p(d,[C]){C&2&&T(r,d[1]);const I={};if(C&1&&(I.selectedRenderSystem=d[0]),C&2&&(I.value=d[1]),i.$set(I),C&5){_=d[2];let w;for(w=0;w<_.length;w+=1){const L=K(d,_,w);m[w]?m[w].p(L,C):(m[w]=G(L),m[w].c(),m[w].m(o,null))}for(;w<m.length;w+=1)m[w].d(1);m.length=_.length}d[0].options?v?v.p(d,C):(v=Y(d),v.c(),v.m(g,null)):v&&(v.d(1),v=null)},i(d){h||(me(i.$$.fragment,d),h=!0)},o(d){_e(i.$$.fragment,d),h=!1},d(d){d&&p(e),ge(i),te(m,d),v&&v.d(),s=!1,c()}}}function $(l){var e;(e=l.getContext("2d"))==null||e.clearRect(0,0,l.width,l.height)}function je(l,e,t){const n=Le([{type:"canvas",name:"Simple Image",render:(s,c,_)=>{var m;$(c),c.getContext("2d").fillStyle=_.backgroundColor.value,(m=c.getContext("2d"))==null||m.fillRect(0,0,c.width,c.height),q({value:s,foregroundColor:_.foregroundColor.value,backgroundColor:_.backgroundColor.value,x:_.padding.value||0,y:_.padding.value||0,width:300,height:300},c)},options:{foregroundColor:{type:"color",name:"Foreground Color",value:"#000000",defaultValue:"#000000"},backgroundColor:{type:"color",name:"Background Color",value:"#ffffff",defaultValue:"#ffffff"},padding:{type:"number",min:0,name:"Padding",defaultValue:0,value:50}}},{type:"canvas",name:"Transparent Image",render:(s,c,_)=>{$(c),q({value:s,foregroundColor:_.foregroundColor.value,backgroundAlpha:0},c)},options:{foregroundColor:{type:"color",name:"Foreground Color",value:"#000000",defaultValue:"#000000"}}},{type:"text",name:"Unicode",render:Ce,lineSpacing:"1.1rem",tracking:"-0.05em",options:{}},{type:"text",name:"ASCII",render:(s,{foregroundChar:c,backgroundChar:_,thickness:m,inverse:v,padding:d})=>ye({value:s,foregroundChar:"0".repeat(m.value),backgroundChar:"1".repeat(m.value)}).split(`
`).map(C=>"1".repeat(d.value)+C+"1".repeat(d.value)).map(C=>(C+`
`).repeat(m.value).slice(0,-1)).join(`
`).replaceAll("0",v.value?_.value:c.value).replaceAll("1",v.value?c.value:_.value),lineSpacing:".75rem",tracking:"0",options:{foregroundChar:{type:"text",name:"Foreground Character",value:"%",defaultValue:"%"},backgroundChar:{type:"text",name:"Background Character",value:" ",defaultValue:" "},thickness:{type:"number",name:"Thickness",value:1,defaultValue:1},padding:{type:"number",name:"Padding",value:0,defaultValue:0},inverse:{type:"boolean",name:"Inverse",value:!1,defaultValue:!1}}}]);let r=n[0],a="";function i(){a=this.value,t(1,a)}const u=s=>{t(0,r=s)};function o(s,c){s[c].value=this.value,t(0,r)}function b(s,c){s[c].value=this.value,t(0,r)}function g(s,c){s[c].value=ne(this.value),t(0,r)}function h(s,c){s[c].value=this.checked,t(0,r)}return[r,a,n,i,u,o,b,g,h]}class Be extends x{constructor(e){super(),ee(this,e,je,Oe,le,{})}}export{Be as default};
